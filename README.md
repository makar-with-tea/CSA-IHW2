# Макаревич Мария, БПИ228
Индивидуальное домашнее задание 1 по дисциплине "Архитектура вычислительных систем".
**Работа выполнена на 10 баллов.**
## Вариант 15. Условие:
Разработать программы на языке Ассемблера процесса RISC-V, с использованием команд арифметического сопроцессора, выполняемые в симуляторе RARS. Разработанные программы должны принимать числа в допустимом диапазоне. Например, нужно учитывать области определения и допустимых значений, если это связано с условием задачи.

Индивидуальное условие варианта: Разработать программу, вычисляющую с помощью степенного ряда с точностью не хуже 0,05% значение функции гиперболического косинуса ch(x) = (e^x + e^(−x))/2 для заданного параметра x.
## Критерии на 4-5 баллов
- Приведено решение задачи на ассемблере. Ввод данных осуществляется с клавиатуры. Вывод данных осуществляется на дисплей.
- В программе должны присутствовать комментарии, поясняющие выполняемые действия.
- Допускается использование требуемых подпрограмм без параметров и локальных переменных.
- В отчете должно быть представлено полное тестовое покрытие. Приведены результаты тестовых прогонов. Например, с использованием скриншотов.

Реализованы ввод данных с клавиатуры и вывод данных на дисплей. Комментарии в программе присутствуют. Реализованы подпрограммы:

- next_term - подпрограмма, находящая следующий элемент степенного ряда для ch(x)
- check_accuracy - подпрограмма, проверяющая, является ли погрешность вычислений ниже допустимой по условию (0.05%)

Тесты программы присутствуют в папке [tests](tests). В конце отчета приведены скриншоты, показывающие корректную работу программы на тестах 1-4.
## Критерии на 6-7 баллов
- В программе необходимо использовать подпрограммы с передачей аргументов через параметры, что обеспечивает их повторное использование с различными входными аргументами. При нехватке регистров, используемых для передачи параметров, оставшиеся параметры передавать через стек.
- Внутри подпрограмм необходимо использовать локальные переменные. При нехватке временных регистров обеспечить сохранение данных на стеке в соответствии с соглашениями, принятыми для процессора.
- В местах вызова функции добавить комментарии, описывающие передачу фактических параметров и перенос возвращаемого результата. При этом необходимо отметить, какая переменная или результат какого выражения соответствует тому или иному фактическому параметру.

В программе реализована передача аргументов через параметры в подпрограммах next_term, check_accuracy.

- В next_term через параметры подаются значения введенного пользователем числа x, числителя и знаменателя текущего элемента степенного ряда, а также n - число, использущееся при нахождении знаменателя элемента степенного ряда.
- В check_accuracy через параметры подаются значения текущей суммы степенного ряда, допустимой погрешности и текущего элемента степенного ряда.

В обеих подпрограммах использованы локальные переменные:
- В next_term: ft0, хранящая значение x^2, и ft6, хранящее значение поля _1, равное 1.
- В check_accuracy: ft0, хранящая значение допустимой погрещности (mes_error * sum).

В местах вызова функций next_term, check_accuracy добавлены требуемые комментарии.
# а дальше ничего не пофикшено!
## Критерии на 8 баллов
- Разработанные подпрограммы должны поддерживать многократное использование с различными наборами исходных данных, включая возможность подключения различных исходных и результирующих массивов.
- Реализовать автоматизированное тестирование за счет создания дополнительной тестовой программы, осуществляющей прогон подпрограммы обработки массивов с различными тестовыми данными (вместо ввода данных). Осуществить прогон тестов обеспечивающих покрытие различных ситуаций. Тестовые данные можно формировать в различных исходных массивах.
- Добавить информацию о проведенных изменениях в отчет.

За счет передачи аргументов подпрограмм через стек они поддерживают многократное использование и позволяют подключать другие массивы, что проиллюстрировано в тестовой программе на примере подпрограммы fill_array_B. Отдельная тестовая программа [создана](code/test.asm), в ней рассмотрены 4 варианта входных данных, отличных от хранящихся в папке tests. Для каждого из них на экран выведен массив A, а затем созданный на его основе массив B. Ниже в секции "Тесты" приведены скриншоты ее выполнения.
## Критерии на 9 баллов
- Добавить в программу использование макросов для реализации ввода и вывода данных. Макросы должны поддерживать повторное использование с различными массивами и другими параметрами.
- Допускается обертыванием макросами уже разработанных подпрограмм.

В программе реализованы макросы, позволяющие считывать (read_int(%x)) и выводить (print_int(%x)) целые числа, выводить строки (print_str(%x)) и массивы (print_array(%adress, %length)). В макросе print_array (%adress, %length) использованы локальные переменные, которые при компиляции отображаются на стек (см. критерий на 6-7 баллов). Кроме того, для удобства реализован макрос load_array_elem(%adress_arr, %x, %ind), придающий элементу массива по заданному индексу значение, лежащее в заданном регистре, и увеличивающий индекс на 1 и адрес массива на 4 (то есть переходящий к следующему элементу массива).
## Критерии на 10 баллов
- Программа должна быть разбита на несколько единиц компиляции. При этом подпрограммы ввода–вывода должны составлять унифицированные модули, используемые повторно как в программе, осуществляющей ввод исходных данных, так и в программе, осуществляющей тестовое покрытие.
- Макросы должны быть выделены в отдельную автономную библиотеку
- Расширить отчет, дополнив его новыми данными.

Программа разбита на несколько единиц компиляции: array.asm, macroslib.s, input_length.s, fill_array_A.s, fill_array_B.s. Тестирующая программа test.asm использует те же функции, что и основная программа. Макросы выделены в отдельную библиотеку macroslib.s.
## Тесты
Корректность работы программы подтверждается прохождением 4 тестов из папки tests, а также верными результатами работы тестирующей программы на 4 других тестах.

Скриншоты работы программы на тестах 1-4:

test1


test2


test3


test4


Скриншоты работы тестирующей программы:
